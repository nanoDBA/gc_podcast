<!DOCTYPE html>
<html lang="en">
<head>
  <title>General Conference Podcast</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Subscribe to General Conference audio from The Church of Jesus Christ of Latter-day Saints">
  <style>
    * { box-sizing: border-box; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      max-width: 800px;
      margin: 0 auto;
      padding: 40px 20px;
      line-height: 1.6;
      color: #333;
      background: #fafafa;
    }
    h1 { color: #1a3a5c; margin-bottom: 10px; }
    h2 { color: #2c5282; margin-top: 40px; }
    a { color: #0066cc; }
    .subtitle { color: #666; margin-bottom: 30px; font-size: 1.1em; }
    .feed-box {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 25px;
      margin: 30px 0;
      box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    }
    .feed-url {
      background: #f7fafc;
      border: 1px solid #e2e8f0;
      border-radius: 6px;
      padding: 12px 15px;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 14px;
      word-break: break-all;
      margin: 15px 0;
    }
    .btn {
      display: inline-block;
      background: #0066cc;
      color: white;
      padding: 12px 24px;
      border-radius: 6px;
      text-decoration: none;
      font-weight: 500;
      margin-right: 10px;
      margin-top: 10px;
    }
    .btn:hover { background: #0052a3; }
    .btn-secondary {
      background: #fff;
      color: #0066cc;
      border: 1px solid #0066cc;
    }
    .btn-secondary:hover { background: #f0f7ff; }
    .feed-list { margin: 20px 0; }
    .feed-item {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 16px;
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    .feed-item strong { min-width: 90px; }
    .feed-url-small {
      flex: 1;
      font-family: 'SF Mono', Monaco, monospace;
      font-size: 13px;
      color: #4a5568;
      background: #f7fafc;
      padding: 6px 10px;
      border-radius: 4px;
      word-break: break-all;
    }
    .btn-copy {
      background: #0066cc;
      color: white;
      border: none;
      padding: 6px 14px;
      border-radius: 4px;
      cursor: pointer;
      font-size: 13px;
    }
    .btn-copy:hover { background: #0052a3; }
    .btn-copy.copied { background: #38a169; }
    .subscribe-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
      margin: 20px 0;
    }
    .subscribe-btn {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      padding: 12px 20px;
      border-radius: 8px;
      text-decoration: none;
      font-weight: 500;
      font-size: 14px;
      color: white;
      transition: opacity 0.2s;
    }
    .subscribe-btn:hover { opacity: 0.9; }
    .subscribe-btn.apple { background: linear-gradient(135deg, #9b4dca, #d64292); }
    .subscribe-btn.overcast { background: #fc7e0f; }
    .subscribe-btn.pocketcasts { background: #f43e37; }
    .subscribe-btn.castro { background: linear-gradient(135deg, #00ccbf, #00b265); }
    .subscribe-btn.rss { background: #f26522; }
    .features {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
      margin: 30px 0;
    }
    .feature {
      background: #fff;
      border: 1px solid #e2e8f0;
      border-radius: 8px;
      padding: 20px;
    }
    .feature h3 { margin-top: 0; color: #2c5282; }
    .steps { counter-reset: step; }
    .steps li {
      counter-increment: step;
      margin: 15px 0;
      padding-left: 35px;
      position: relative;
    }
    .steps li::before {
      content: counter(step);
      position: absolute;
      left: 0;
      width: 24px;
      height: 24px;
      background: #0066cc;
      color: white;
      border-radius: 50%;
      font-size: 14px;
      font-weight: bold;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    footer {
      margin-top: 60px;
      padding-top: 20px;
      border-top: 1px solid #e2e8f0;
      color: #666;
      font-size: 0.9em;
    }
    @media (max-width: 600px) {
      body { padding: 20px 15px; }
      .feed-url { font-size: 12px; }
    }
  </style>
</head>
<body>
  <h1>General Conference Podcast</h1>
  <p class="subtitle">Audio recordings from General Conference of The Church of Jesus Christ of Latter-day Saints</p>

  <div class="feed-box">
    <strong>Podcast Feed URL:</strong>
    <div class="feed-url" id="feedUrl">https://YOUR_USERNAME.github.io/gc_podcast/audio.xml</div>
    <a href="audio.xml" class="btn">View Feed</a>
    <button class="btn btn-secondary" onclick="copyFeedUrl()">Copy URL</button>
  </div>

  <div class="features">
    <div class="feature">
      <h3>Full Sessions</h3>
      <p>Complete 2-hour session recordings including all talks and music</p>
    </div>
    <div class="feature">
      <h3>Individual Talks</h3>
      <p>Each talk available separately (10-20 minutes each)</p>
    </div>
    <div class="feature">
      <h3>Recent Conferences</h3>
      <p>2024-2025 conferences currently available</p>
    </div>
    <div class="feature">
      <h3>Multi-Language</h3>
      <p>English, Spanish, and Portuguese feeds</p>
    </div>
  </div>

  <h2>Available Feeds</h2>
  <div class="feed-list">
    <div class="feed-item">
      <strong>English</strong>
      <span class="feed-url-small" id="feedEng">audio.xml</span>
      <button class="btn-copy" onclick="copyFeed('feedEng')">Copy</button>
    </div>
    <div class="feed-item">
      <strong>Spanish</strong>
      <span class="feed-url-small" id="feedSpa">audio-es.xml</span>
      <button class="btn-copy" onclick="copyFeed('feedSpa')">Copy</button>
    </div>
    <div class="feed-item">
      <strong>Portuguese</strong>
      <span class="feed-url-small" id="feedPor">audio-pt.xml</span>
      <button class="btn-copy" onclick="copyFeed('feedPor')">Copy</button>
    </div>
  </div>

  <h2>One-Click Subscribe</h2>
  <div class="subscribe-buttons" id="subscribeButtons">
    <a class="subscribe-btn apple" href="#" id="appleLink">Apple Podcasts</a>
    <a class="subscribe-btn overcast" href="#" id="overcastLink">Overcast</a>
    <a class="subscribe-btn pocketcasts" href="#" id="pocketcastsLink">Pocket Casts</a>
    <a class="subscribe-btn castro" href="#" id="castroLink">Castro</a>
    <a class="subscribe-btn rss" href="#" id="rssLink">RSS Feed</a>
  </div>

  <h2>Manual Subscribe</h2>
  <ol class="steps">
    <li>Copy a feed URL above</li>
    <li>Open your podcast app</li>
    <li>Look for "Add by URL" or "Add RSS Feed"</li>
    <li>Paste the URL and confirm</li>
  </ol>

  <h2>Episode Types</h2>
  <p>The feed includes two types of episodes:</p>
  <ul>
    <li><strong>Full Session</strong> - Complete session recording (~2 hours). Great for listening to an entire session.</li>
    <li><strong>Individual Talks</strong> - Each speaker's talk separately (10-20 min). Perfect for focused study.</li>
  </ul>

  <h2>Supported Apps</h2>
  <p>This feed works with any podcast app that supports RSS:</p>
  <ul>
    <li>Apple Podcasts</li>
    <li>Overcast</li>
    <li>Pocket Casts</li>
    <li>Castro</li>
    <li>Google Podcasts</li>
    <li>Spotify (via RSS)</li>
    <li>Any RSS reader</li>
  </ul>

  <footer>
    <p>
      Audio content from <a href="https://www.churchofjesuschrist.org/study/general-conference">churchofjesuschrist.org</a>.
      This is an unofficial feed for personal use.
    </p>
    <p>
      <a href="https://github.com/nanoDBA/gc_podcast">View on GitHub</a>
    </p>
  </footer>

  <script>
    const baseUrl = window.location.hostname !== 'localhost'
      ? window.location.origin + window.location.pathname.replace(/\/[^\/]*$/, '')
      : 'https://nanodba.github.io/gc_podcast';

    // Update all feed URLs
    document.getElementById('feedUrl').textContent = baseUrl + '/audio.xml';
    document.getElementById('feedEng').textContent = baseUrl + '/audio.xml';
    document.getElementById('feedSpa').textContent = baseUrl + '/audio-es.xml';
    document.getElementById('feedPor').textContent = baseUrl + '/audio-pt.xml';

    function copyFeedUrl() {
      copyToClipboard(document.getElementById('feedUrl').textContent, event.target);
    }

    function copyFeed(id) {
      copyToClipboard(document.getElementById(id).textContent, event.target);
    }

    function copyToClipboard(text, btn) {
      navigator.clipboard.writeText(text).then(() => {
        const original = btn.textContent;
        btn.textContent = 'Copied!';
        btn.classList.add('copied');
        setTimeout(() => {
          btn.textContent = original;
          btn.classList.remove('copied');
        }, 1500);
      });
    }

    // Set up one-click subscribe links
    // Reference: https://github.com/nathangathright/podcast-platform-links
    const feedUrl = baseUrl + '/audio.xml';
    const feedUrlNoProtocol = feedUrl.replace(/^https?:\/\//, '');
    const encodedFeed = encodeURIComponent(feedUrl);

    // Apple Podcasts - uses podcast:// with URL (no protocol)
    document.getElementById('appleLink').href = 'podcast://' + feedUrlNoProtocol;

    // Overcast - only app that requires full URL with protocol
    document.getElementById('overcastLink').href = 'overcast://x-callback-url/add?url=' + encodedFeed;

    // Pocket Casts - uses pktc://subscribe/ with URL (no protocol)
    document.getElementById('pocketcastsLink').href = 'pktc://subscribe/' + feedUrlNoProtocol;

    // Castro - uses castros:// (note the 's') with URL (no protocol)
    document.getElementById('castroLink').href = 'castros://subscribe/' + feedUrlNoProtocol;

    // RSS Feed (direct link)
    document.getElementById('rssLink').href = feedUrl;
  </script>
</body>
</html>
